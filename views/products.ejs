<!-- views/products.ejs -->
<!DOCTYPE html>
<html>
  <head>
    <title><%= title %></title>
    <link rel='stylesheet' href='/stylesheets/productStyle.css' />
    <script src="/scripts/productActions.js"></script>
  </head>
  <body>
  <nav class="navBar">
    <div class="title">
      <h1><%= title %></h1>
    </div>
    <ul class="navLinks">
      <li><a href="/">Home</a></li>
      <li><a href="/products">Products</a></li>
      <li><a href="/contact">Contact us</a></li>
</ul>

    <div class="signUp">
      <span>Cart Place holder icon</span>
      <a href="/signup">Sign Up</a>

    </div>
  </nav>
  <div class="contentContainer">

    <div class="sidebar">
        <h2>Categories</h2>
        <ul>
            <li><a href="/products">All</a></li>
           <% categories.forEach(category => { %>
<li>
  <a href="/categories/<%= category.categoryname %>"><%= category.categoryname %></a>
<% if (category.categoryname !== "MISC") { %>
  <button onclick="deleteCategory(this.id)" id="<%= category.categoryname %>">delete</button>
<% } %>
</li><% }) %>
         <li><button onclick="window.location.href='/addCategory'">Add Category</button></li>
        </ul>
    </div>
<button onclick="window.location.href='/addProduct'">Add Product</button>
      <table class="productsTable">
      <thead>
        <tr>
          <th>ID</th>
          <th>Name</th>
          <th>Price</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
        <% data.forEach(product => { %>
          <tr>
            <td><%= product.productid %></td>
        <td>$<%= product.price %></td>
        <td><a href="/products/<%= product.productid %>">
        <%= product.productname %></a></td>
        <td><%= product.description %></td>
          </tr>
        <% }) %>
      </tbody>
    </table></div>

  </body>
</html>